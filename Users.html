<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>TeamBrewer</title>

    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/sb-admin.css" rel="stylesheet">
    <link href="css/header.css" rel="stylesheet">
    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <script src="js/jquery.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.16/angular.min.js"></script>
    <body ng-app="myApp" ng-controller="userCtrl">

</head>

    <div id="wrapper">

        <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation"> 
            
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="users.html">teambrewer</a>

            </div>
            
            <div class="collapse navbar-collapse navbar-ex1-collapse">
                <ul class="nav navbar-nav side-nav">
          
                    <li>
                        <a href="users.html" data-toggle="collapse" data-target="#demo"><i class="fa fa-fw fa-user"></i> User Management</a>
                    </li>
                    <li>
                        <a href="team.html" data-toggle="collapse" data-target="#demo"><i class="fa fa-fw fa-link"></i>Team</a>
                    </li>
                   <li>
                        <a href="project.html" data-toggle="collapse" data-target="#demo"><i class="fa fa-fw fa-edit"></i> Project </a>
                    </li>
                </ul>
            </div>
            
        </nav>

        <div id="page-wrapper">

            <div class="container-fluid">

              
                <div class="row">
                    <div class="col-lg-12">
                        <h1 class="page-header">
                            Users
                        </h1>
                       
                    </div>
                </div>
                    <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#mydModal">
                    <span class="glyphicon glyphicon-plus"></span>&nbsp;&nbsp;Add User</button>
                    </button>
                                <div class="modal fade" id="mydModal" role="dialog">
                                    <div class="modal-dialog modal-md">
                                        <div class="modal-content">
                                            <div class="modal-header modal-header-success" >
                                                <button type="button" class="close" data-dismiss="modal">&times;</button>

                                                <h4 class="modal-title">Add User Information</h4>
                                            </div>
                                            <div class="modal-body">
                                                <div class="row">
                                                    <div class="col-lg-8">
                                        
                                                        <form role="form">
                                                            <div class="form-group">
                                                                
                                                            </div>

                                                            <div class="form-group">
                                                                <label for='exe1'>First Name</label>

                                                                <input id="exe1" class="form-control" ng-model="efirst_name" placeholder="First Name">
                                                            </div>

                                                            <div class="form-group">
                                                                <label for='exe2'>Last Name</label>
                                                                <input id="exe2" class="form-control" ng-model="elast_name" placeholder="Last Name">
                                                            </div>
                                                            <div class="form-group">
                                                                <label>Date of Birth</label>
                                                                <div class='input-group date' id='datetimepicker2'>
                                                                    <input type='text' class="form-control" ng-model="ebirthdate" placeholder="YYYY-MM-DD" id="edit_birthdate" value="">
                                                                    <span class="input-group-addon">
                                                                    <span class="glyphicon glyphicon-calendar"></span>
                                                                    </span>
                                                                </div>
                                                            </div>
                                                                    <div class="form-group">
                                                                <label for='exe3'>Choose Team</label>
                                                                <select class="selectpicker"  ng-model="eteam">
                                                                    <option ng-repeat="(key,team) in teams" value="{{ key }}">{{team.name}}</option>
                                                                </select>
                                                            </div>

                                                        </form>            
                                                    </div>
                                                </div>
                                             </div>
                                             <div class="modal-footer">
                                                <button type="button" ng-click="insertdata()" class="btn btn-primary" data-dismiss="modal">
                                                 <span class="glyphicon glyphicon-ok"></span>&nbsp;&nbsp;Save</button>
                                                <button type="button" class="btn btn-danger" data-dismiss="modal">
                                                 <span class="glyphicon glyphicon-remove"></span>&nbsp;&nbsp;Close</button>
                                             </div>
                                          </div>                   
                                      </div>
                                        </div>
                                    </div>
                <div class="row">
                    <div class="col-lg-12">
                        <h2>List of Users</h2>
                        <div class="table-responsive">
                            <table class="table table-striped">
                                <thead><tr>
                                   
                                    <th>First Name</th>
                                    <th>Last Name</th>
                                    <th>Birth Date</th>
                                    <th>Team</th>
                                    <th>Edit</th>
                              </tr></thead>
                              <tbody><tr ng-repeat="(key, user) in users">
                               
                                <td>{{ user.first_name }}</td>
                                <td>{{ user.last_name }}</td>
                                <td>{{ user.birthdate }}</td>
                                <td>{{ user.team_id }}</td>
                                <td>
                                
                                
                                <button type="button" class="btn btn-info btn-md" data-toggle="modal" data-target="#myModal" ng-click="editUser(key)">
                                <span class="glyphicon glyphicon-pencil"></span>&nbsp;&nbsp;Edit</button>

                              
                                <div class="modal fade" id="myModal" role="dialog">
                                    <div class="modal-dialog modal-md">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                <h4 class="modal-title">Edit User Information</h4>
                                            </div>
                                            <div class="modal-body">
                                                <div class="row">
                                                    <div class="col-lg-8">
                                        
                                                        <form role="form">
                                                            

                                                            <div class="form-group">
                                                                <label>First Name</label>

                                                                <input id="edit_first_name" class="form-control" ng-model="first_name" placeholder="First Name">
                                                            </div>

                                                            <div class="form-group">
                                                                <label>Last Name</label>
                                                                <input id="edit_last_name" class="form-control" ng-model="last_name" placeholder="Last Name">
                                                            </div>

                                                        

                                                            <div class="form-group">
                                                                <label>Date of Birth</label>
                                                                <div class='input-group date' id='datetimepicker1'>
                                                                    <input type='text' class="form-control" ng-model="birthdate" placeholder="YYYY-MM-DD" id="edit_birthdate">
                                                                    <span class="input-group-addon">
                                                                    <span class="glyphicon glyphicon-calendar"></span>
                                                                    </span>
                                                                </div>
                                                            </div>
                                                                    <script type="text/javascript">
                                                                        $(document).ready(function () {
                                                                            $('#datetimepicker1').datetimepicker();
                                                                        });
                                                                    </script>
                                                            </div>
                                                        </form>
                                                    </div>
                                                </div>
                                        <div class="modal-footer">
                                            <button type="button" ng-click="updateData()" class="btn btn-primary" data-dismiss="modal">
                                                <span class="glyphicon glyphicon-ok"></span>&nbsp;&nbsp;Save</button>
                                            <button type="button" class="btn btn-danger" data-dismiss="modal">
                                                <span class="glyphicon glyphicon-remove"></span>&nbsp;&nbsp;Close</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                                </div>
                                </td>
                              </tr></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
   
    <script type="text/javascript" src="js/moment.js"></script>
    <script type="text/javascript" src="js/bootstrap-datetimepicker.js"></script>
    <script type="text/javascript" src="css/bootstrap.css"></script>
    <script type="text/javascript" src="css/bootstrap-datetimepicker.min.css"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src = "users.js"></script>
</body>

</html>